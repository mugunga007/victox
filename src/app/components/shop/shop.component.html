<div class="container">
  <div class="row mt-2">
    
    <div class="card">
      <div class="card-body">

      <div class="card-title">
        <button
    (click)="showShopForm = !showShopForm"
    [ngClass]="showShopForm ? 'btn btn-primary fa fa-envelope-open' : 'btn btn-primary fa fa-envelope'"
    >
      Add Shop
    </button>
      </div>
      <div class="card-text">
    <form 
    *ngIf="showShopForm"
    #shopForm = "ngForm" 
    (ngSubmit)="onSubmit(shopForm)"
    >
      <div class="form-group">
        <label for="name">Shop Name:</label>
        <input
        [(ngModel)]="shop.name"
         type="text" class="form-control" placeholder="" id="name"
        name= "name"
        #name="ngModel"
        [ngClass]="{'is-invalid' : name.errors && name.touched}"
        required
        minlength="2"
        
        >

        <div class="invalid-feedback" [hidden]="!name.errors?.required">
            Shouldn't be empty
        </div>

        <div class="invalid-feedback" [hidden]="!name.errors?.minlength">
          Shouldn't be less than 2
      </div>

      </div>
      <div class="form-group">
        <label for="city">City:</label>
        <input type="text" class="form-control" placeholder="" id="city"
        name="city"
        [(ngModel)]="shop.address.city"
        #city = "ngModel"
        [ngClass]="{'is-invalid': city.errors && city.touched}"
        required
        minlength="3"
        >
        <div class="invalid-feedback" [hidden]="!city.errors?.required">
          Type something please...
        </div>

        <div class="invalid-feedback" [hidden]="!city.errors?.minlength">
          please type 3 characters
        </div>
      </div>

      <div class="form-group">
        <label for="street">Street:</label>
        <input type="text" class="form-control" placeholder="" id="street"
        name="street"
        [(ngModel)]="shop.address.street"
        #street = "ngModel"
        [ngClass]="{'is-invalid': street.errors && street.touched}"
        required
        minlength="4"
        >
        <div class="invalid-feedback" [hidden]="!street.errors?.required">
          Cant be empty...
        </div>
        <div class="invalid-feedback" [hidden]="!street.errors?.minlength">
            4 letters min yooo...
        </div>
      </div>

     
      <button type="submit" 
      [disabled]="!shopForm.valid"
      class="btn btn-primary">Submit</button>
    </form> 
      </div>
      </div>
      </div>

  </div>
  <div class="row m-2">

<div class="card m-2 col-md-3" *ngFor="let s of shops">

  <div class="card-body">
 
    <div class="card-title">
      <button (click)="s.shown = !s.shown"
      [ngClass]="s.shown ? 'btn btn-danger fa fa-teeth-open' : 'btn btn-dark fa fa-teeth'"
      ></button>
    </div>
    <div class="card-text" *ngIf="s.shown">
      {{s.name}} 
    </div>
  </div>
</div>
</div>

</div>
